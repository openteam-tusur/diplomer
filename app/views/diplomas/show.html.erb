<% title resource %>

<%= link_to t(:edit), edit_diploma_path, :class => 'button floatr' %>

<%= show_for resource do |item| %>
  <%= item.association :student, :using => :full_info %>
  <%= item.attributes :number, :eng_number, :chair, :speciality, :admission_date, :graduation_date, :study_form, :total_hours, :contact_hours %>
<% end %>

<ul class='tabs_menu'>
  <li><%= link_to "1. Дисциплины", '#', :class => 'courses' %></li>
  <li><%= link_to "2. Курсовые работы", '#', :class => 'papers' %></li>
  <li><%= link_to "3. Практики", '#', :class => 'practices' %></li>
  <li><%= link_to "4. Гос. экзамен", '#', :class => 'state_examination' %></li>
  <li class='last'><%= link_to "5. Квалификационная работа", '#', :class => 'qualification_project' %></li>
</ul>

<div class='details_wrapper'>
  <ul class='details'>
    <li id='courses'>
      <h4>Дисциплины</h4>

      <table>
        <thead>
          <tr>
            <th>Название</th>
            <th>Баллы</th>
            <th>Часы</th>
            <th>Оценка</th>
          </tr>
        </thead>
        <tbody class='courses_list list'>
          <% if @diploma.courses.any? %>
            <%= render @diploma.courses %>
          <% else %>
            <tr>
              <td colspan='5' class='empty'>нет дисциплин</td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <%= render :partial => "courses/form", :locals => {:diploma => resource} %>
    </li>

    <li id='papers'>
      <h4>Курсовые работы</h4>

      <table>
        <thead>
          <tr>
            <th>Название</th>
            <th>Оценка</th>
          </tr>
        </thead>
        <tbody class='papers_list list'>
          <% if @diploma.papers.any? %>
            <%= render @diploma.papers %>
          <% else %>
            <tr>
              <td colspan='3' class='empty'>нет курсовых работ</td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <%= render :partial => "papers/form", :locals => {:diploma => resource} %>
    </li>

    <li id='practices'>
      <h4>Практики</h4>

      <table>
        <thead>
          <tr>
            <th>Название</th>
            <th>Баллы</th>
            <th>Недели</th>
            <th>Оценка</th>
          </tr>
        </thead>
        <tbody class='practices_list list'>
          <% if @diploma.practices.any? %>
            <%= render @diploma.practices %>
          <% else %>
            <tr>
              <td colspan='5' class='empty'>нет практик</td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <%= render :partial => "practices/form", :locals => {:diploma => resource} %>
    </li>

    <li id='state_examination'>
      <h4>Гос. экзамен</h4>
      <ul class='state_examination_list list'>
        <% if @diploma.final_state_examination %>
          <%= render @diploma.final_state_examination %>
        <% else %>
          <li class='empty'>Нет гос.экзамена </li>
        <% end %>
      </ul>

      <%= render :partial => "final_state_examinations/form", :locals => {:diploma => resource} %>
    </li>

    <li id='qualification_project'>
      <h4>Квалификационная работа</h4>
      <ul class='qualification_project_list list'>
        <% if @diploma.final_qualification_project %>
          <%= render @diploma.final_qualification_project %>
        <% else %>
          <li class='empty'>Нет квалификационной работы</li>
        <% end %>
      </ul>

      <%= render :partial => "final_qualification_projects/form", :locals => {:diploma => resource} %>
    </li>
  </ul>

</div>
